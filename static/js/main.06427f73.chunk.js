(this.webpackJsonppractice=this.webpackJsonppractice||[]).push([[0],{76:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(27),o=n.n(i),s=n(9),j=n(10),a=n(12),u=n(1),l={name:"",img:"",isOnline:!1},d=Object(c.createContext)(void 0),b=Object(c.createContext)(void 0);function O(e,t){switch(t.type){case"login":return Object(a.a)(Object(a.a)({},t.info),{},{isOnline:!0});case"logout":default:return Object(a.a)({},l)}}function h(e){var t=e.children,n=Object(c.useReducer)(O,l),r=Object(j.a)(n,2),i=r[0],o=r[1];return Object(u.jsx)(d.Provider,{value:i,children:Object(u.jsx)(b.Provider,{value:o,children:t})})}function x(){var e=Object(c.useContext)(d);if(!e)throw new Error("Provider not found");return e}function f(){var e=Object(c.useContext)(b);if(!e)throw new Error("Provider not found");return e}var p=n(28),v=n.n(p),m=n(3);function g(){var e=Object(m.f)(),t=f(),n=x().name;return Object(u.jsx)("nav",{children:Object(u.jsxs)("ol",{children:[Object(u.jsx)("ul",{children:Object(u.jsx)(s.b,{to:"/",children:"main"})}),Object(u.jsx)("ul",{children:Object(u.jsx)(s.b,{to:"/game",children:"game"})}),Object(u.jsx)("ul",{children:Object(u.jsx)(s.b,{to:"/profile",children:"profile"})}),Object(u.jsx)("ul",{children:Object(u.jsx)(s.b,{to:"/community",children:"community"})}),Object(u.jsx)("ul",{children:Object(u.jsx)(s.b,{to:"/channel",children:"channel"})}),Object(u.jsxs)("ul",{children:["Logged in: ",n]}),Object(u.jsx)("ul",{children:Object(u.jsx)("button",{onClick:function(){t({type:"logout"}),e.push("/")},children:"fake logout"})})]})})}var P=r.a.memo(g),y=n(13),E=n.n(y),C={isError:!1,isLoading:!1},w=Object(c.createContext)(void 0),S=Object(c.createContext)(void 0);function _(e,t){switch(t.type){case"error":return{isError:!0,isLoading:!1};case"loading":return{isError:!1,isLoading:!0};default:return Object(a.a)({},C)}}function L(e){var t=e.children,n=Object(c.useReducer)(_,C),r=Object(j.a)(n,2),i=r[0],o=r[1];return Object(u.jsx)(w.Provider,{value:i,children:Object(u.jsx)(S.Provider,{value:o,children:t})})}function T(){var e=Object(c.useContext)(w);if(!e)throw new Error("Provider not found");return e}function F(){var e=Object(c.useContext)(S);if(!e)throw new Error("Provider not found");return e}function k(e){var t=e.posts;return Object(u.jsx)("ul",{children:t.map((function(e){return Object(u.jsx)("li",{children:"".concat(e.id,", ").concat(e.title)},e.id)}))})}function R(e){for(var t=e.postsPerPage,n=e.totalPosts,c=e.paginate,r=[],i=1;i<=Math.ceil(n/t);i++)r.push(i);return Object(u.jsx)("div",{children:Object(u.jsx)("nav",{children:Object(u.jsx)("ul",{children:r.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)("span",{onClick:function(){return c(e)},children:e})},e)}))})})})}function A(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(1),o=Object(j.a)(i,2),s=o[0],a=o[1],l=F(),d=T().isLoading;Object(c.useEffect)((function(){l({type:"loading"}),E.a.get("https://jsonplaceholder.typicode.com/posts").finally((function(){l({type:"init"})})).then((function(e){r(e.data),a(1)})).catch((function(e){l({type:"error",message:e.message})}))}),[]);var b=10*s,O=b-10;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Community"}),!d&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{posts:function(e){return e.slice(O,b)}(n)}),Object(u.jsx)(R,{postsPerPage:10,totalPosts:n.length,paginate:a})]})]})}function H(){var e=Object(m.f)(),t=f(),n=F();return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Please Login"}),Object(u.jsx)("button",{onClick:function(){n({type:"loading"}),E.a.get("https://jsonplaceholder.typicode.com/users/1").finally((function(){n({type:"init"})})).then((function(n){t({type:"login",info:{name:n.data.name,img:"https://avatars.githubusercontent.com/u/57004991?v=4"}}),e.push("/")})).catch((function(e){n({type:"error",message:e.message})}))},children:"fake login"})]})}function D(e){var t=e.children;return Object(u.jsx)("div",{children:t})}function B(){var e=x(),t=e.name,n=e.img;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h3",{children:["Hi, ",t]}),Object(u.jsx)("img",{alt:t,src:n})]})}function K(){var e=x().isOnline,t=T(),n=t.isError,c=t.isLoading,r=e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(P,{}),Object(u.jsxs)(m.c,{children:[Object(u.jsx)(m.a,{path:"/game",render:function(){return Object(u.jsx)(D,{children:"game"})}}),Object(u.jsx)(m.a,{path:"/profile",component:B}),Object(u.jsx)(m.a,{path:"/community",component:A}),Object(u.jsx)(m.a,{path:"/channel",render:function(){return Object(u.jsx)(D,{children:"channel"})}}),Object(u.jsx)(m.a,{path:"/",render:function(){return Object(u.jsx)(D,{children:"main"})}})]})]}):Object(u.jsx)(m.a,{path:"/",component:H});return Object(u.jsxs)(u.Fragment,{children:[c&&Object(u.jsx)(v.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:3e3}),n?Object(u.jsx)("div",{children:"Error! Please refresh"}):r]})}o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(s.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"/react-test-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PATH,children:Object(u.jsx)(h,{children:Object(u.jsx)(L,{children:Object(u.jsx)(K,{})})})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.06427f73.chunk.js.map